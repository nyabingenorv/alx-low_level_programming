# Basic C

## Compilation Process

### Preprocessing

GCC option: `-E`

- This stage handles preprocessor directives.Directives like `#include` are used to insert the content of header files into the source code.
- `#define` directives are used for macro expansion, replacing symbolic names with their defined values.
- Comments are removed from the code
- The output of the preprocessor is an expanded source file, typically with a `.i` extension.

### Compilation

GCC option: `-S`

- The **compiler** takes the preprocessed source file as input.
- It translates the C code into assembly language specific to the target architecture.
During this stage, the compiler performs syntax and semantic analysis, checks for errors, and may apply optimizations to improve program performance.
The output is an **assembly file**, usually with a `.s` extension.

### Assembly

GCC option: `-c`

- The **assembler** takes the assembly file generated by the compiler as input.
It translates the assembly instructions into machine code, which is a binary representation directly understandable by the computer's processor.
- The output of the assembler is an **object** file, typically with `a .o` (on Linux/macOS) or `.obj` (on Windows) extension. Object files contain machine code but are not yet executable as they may lack references to external functions or libraries.

### Linking

- The linker combines one or more object files with necessary libraries (containing pre-compiled code for common functions like input/output) to create a final executable program.
- Ensuring that all function calls and variable uses are connected to their definitions.
- The output of the linker is an executable file, which can then be run on the target system. On Linux/macOS, this is often named `a.out` by default if not specified otherwise, while on Windows it typically has an `.exe` extension.

----

## Input/Output Files

gcc source.c: Compiles source.c and creates a.out by default.
gcc source.c -o program_name: Compiles source.c and creates an executable named program_name.
gcc file1.c file2.c -o project_executable: Compiles multiple source files and links them into project_executable.
Intermediate Stages:
gcc -E source.c -o source.i: Preprocesses source.c and saves the output to source.i.
gcc -S source.c -o source.s: Compiles source.c to assembly code and saves it to source.s.
gcc -c source.c -o source.o: Compiles source.c to an object file source.o

## Warnings and Errors

-Wall: Enables all common warnings.
-Wextra: Enables additional warnings not covered by -Wall.
-Werror: Treats all warnings as errors, stopping compilation.
-pedantic: Issues all warnings demanded by strict ANSI/ISO C. 
Optimization:
-O0: No optimization (faster compilation, larger/slower code).
-O1, -O2, -O3: Increasing levels of optimization (slower compilation, smaller/faster code).
-Os: Optimizes for size.

## Debugging

-g: Generates debugging information for use with a debugger like GDB.
Include Paths and Libraries:
-I/path/to/includes: Adds a directory to the list of paths searched for header files.
-L/path/to/libraries: Adds a directory to the list of paths searched for libraries during linking.
-lname: Links with the library named name (e.g., -lm for the math library).

## Standard Compliance

-std=c99 or -std=gnu99: Specifies the C standard to adhere to.
This structured process and the available GCC options provide fine-grained control over the compilation of C projects.